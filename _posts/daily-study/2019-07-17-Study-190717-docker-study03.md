---
layout: post
title:  "[도커 스터디#3] 이미지 파일 만들기(nginx)"
date: 2019-07-17 18:23:00
author: Roseline Song
categories: Daily-Study
tags: 도커 스터디
cover: "/assets/docker.jpg"
published: false
---

### 이미지 파일 만들기 

**1. 도커 이미지 파일 생성**

vim 편집기로 도커 파일을 만든다. 도커 파일의 이름은 항상 `Dockerfile` 이어야 한다. 맨 앞의 대문자에 유의한다.

<br>

```
sudo vim Dockerfile
```

<br>
<br>

**2. 도커 파일 작성하기**

운영체제는 우분투 18.04 / nginx 웹서버를 사용하는 도커 파일을 만든다.

<br>

```docker
FROM ubuntu:18.04
MAINTAINER Roseline <guseod24@gmail.com>

RUN apt-get update
RUN apt-get install -y nginx # install nginx web server ('yes' or 'yes'~)

VOLUME ["/data", "/etc/nginx/site-enabled", "/var/log/nginx"] 

# Open HTTP port for nginx
EXPOSE 80

WORKDIR /etc/nginx 

CMD ["nginx"] 

```

<br>

- `FROM` : 도커의 ubuntu 이미지를 기반으로 생성한다. `FROM 이미지:태그명` 형식으로 설정한다.
- `MAINTAINER` : 이미지를 관리하는 사람의 정보이다.
- `RUN` : 셸 스크립트 or 명령 실행 
- `-y` : 이미지 생성 중에 사용자 입력을 받을 수 없으므로 -y 옵션을 활용해 묻지도 따지지도 않고 다운받는다.
- `VOLUME` : 호스트와 공유할 디렉터리 목록이다.  
- `CMD` : 컨테이너가 시작될 때 실행할 실행 파일 또는 셸 스크립트이다.
- `nginx` : nginx 서비스를 실행한다.
- `WORKDIR` : CMD에서 설정한 실행 파일이 실행될 디렉터리이다. 
- `EXPOSE` : 호스트와 연결할 포트 번호를 적는다. nginx의 기본 포트인 80번 포트를 열어둔다.


<br>
<br>



- [가장 빨리 만나는 도커](http://pyrasis.com/book/DockerForTheReallyImpatient/Chapter04/02)